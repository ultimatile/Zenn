---
title: "疑似乱数入門"
emoji: "🦀"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: [乱数, 疑似乱数]
published: false
---

## はじめに
本記事は数値計算アドベントカレンダー2023 X日目の記事です.

本記事では疑似乱数について基礎的な知識について解説します.
あまり突っ込んだ話はできないのでその辺は参考文献を参考にしてください.
自分で擬似乱数生成器を実装するという話ではなく, ライブラリなどで提供されている擬似乱数生成器をユーザーとして利用する際に知っておいた方が良い知識について解説します.

## 乱数とは
乱数とはその名の通りランダムな数のことです.
一般にプログラム処理において「ランダムに〇〇する」という処理を行う際に必要となるものです.
数値計算においては乱数を使ったアルゴリズムはMonte Carlo法と呼ばれます.

### 真正乱数と疑似乱数
乱数には真正乱数と疑似乱数の2種類があります.
真正乱数は物理的なデバイス^[TODO: ここに真正乱数の例を書く
仕様は以下を読む
https://csrc.nist.gov/pubs/sp/800/90/b/final
]
によって生成されます.

一方, 疑似乱数はアルゴリズムによって生成される数列のことです.
疑似乱数はアルゴリズムによって決定的に生成される数列であるため, 予測不可能(ランダム)な数という意味では乱数ではありません.

真正乱数が生成できるのならば, 疑似乱数は必要ないのではないかと思うかもしれません.
しかし, 真正乱数は物理的なデバイスによって生成されるため, 生成速度が遅いという問題があります.

細かい話を始めると色々あるのとは思うのですが, ざっくりと真正乱数はハードウェアで生成される予測不可能な乱数, 疑似乱数はソフトウェア(アルゴリズム)で生成される予測可能な乱数ということで良いと思います.

:::message
### TL;DR
ざっくりとした性質を表形式でまとめると以下のようになります.

| 種類 | 生成方法 | 予測 | 速度 |
| ---- | ---- | ---- | ---- |
| 真正乱数 | ハードウェア | 困難 | 遅い |
| 擬似乱数 | ソフトウェア | 容易 | 速い |
:::


セキュリティ関連など予測不可能性が重要な場面では予測可能な疑似乱数をそのまま使うことはできません.
数値計算では再現性という観点からはむしろ予測可能である方が望ましく, 生成速度も重要になるため, 予測可能で高速な疑似乱数を使うことが多いです.

本記事は数値計算における乱数の記事であるため, 主に疑似乱数のみを扱います.
ただし, 擬似乱数の生成にハードウェア乱数を利用することがあるため, ざっくり用語は押さえておいた方が良いため解説を書いています.

## 擬似乱数生成器

各言語の標準ライブラリのデフォルト擬似乱数生成器

Julia Xoshiro256++
https://prng.di.unimi.it/
Numpy PCG
C++ mt19937
Fortran 


## 文献
擬似乱数ユーザーの方へ-Mersenne Twister法開発者より
https://cir.nii.ac.jp/crid/1520290884433084160
NDLデジタルコレクションのリンクから読めます.

松本眞さんの疑似乱数発生法について
https://mathsoc.jp/publication/tushin/1002/ninomiya.pdf

シミュレーションのための乱数入門
https://www.jspf.or.jp/Journal/PDF_JSPF/9606-08koza.pdf


## TODO
- SFMTについて
- 並列化とjump
- 等分布性; n次元等分布うんぬん
- 乱数の周期